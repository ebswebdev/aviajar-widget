function cargarEstilosSegunContenedor(){var t=document.querySelector("#widget-net");if(t){let e=t;for(;e.parentElement&&e.parentElement!==document.body&&e.parentElement.offsetWidth>=window.innerWidth-1;)e=e.parentElement;var t=e.offsetWidth,n=(console.log("Contenedor usado:",e),console.log(`Ancho del contenedor: ${t}px`),document.querySelector("#dynamic-styles")),t=t<1165?"styles-mobile.css":"styles.css";n&&n.getAttribute("href")===t||(n&&n.remove(),(n=document.createElement("link")).id="dynamic-styles",n.rel="stylesheet",n.href=t,document.head.appendChild(n),console.log("Cargado: "+t))}else console.error("No se encontró el widget.")}document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("widget-net");if(i){var e=i.getAttribute("products")?.replace(/[\[\]\s]/g,"").split(",")||[];console.log(e);const s={AirHotel:{id:"paquetes",icon:"fa-suitcase",text:"Paquetes"},Air:{id:"vuelos",icon:"fa-plane",text:"Vuelos"},Hotel:{id:"hoteles",icon:"fa-h-square",text:"Hoteles"},Autos:{id:"autos",icon:"fa-car",text:"Autos"},Extras:{id:"tours",icon:"fa-ticket-alt",text:"Tours"}};var t=document.createElement("div");t.className="tabs",t.innerHTML=e.filter(e=>s[e]).map(e=>{e=s[e]||{};return`
    <div class="tab" id="tab-${e.id}">
        <i class="fa ${e.icon}" aria-hidden="true"></i>
        <span class="tab-text"> ${e.text}</span>
    </div>
`}).join(""),1==e.length?t.style.display="none":t.style.display="flex",i.appendChild(t);const c=document.querySelectorAll(".tab");c.forEach(e=>{e.addEventListener("click",function(){c.forEach(e=>e.classList.remove("active")),this.classList.add("active");var t=this.id.replace("tab-",""),n=(i.setAttribute("selected-tab",t),this.style.backgroundColor="#fff",this.style.color="#000",c.forEach(e=>{e!==this&&(e.style.backgroundColor="",e.style.color="")}),document.querySelector("#widget-container")),n=(n&&n.remove(),t),t=document.getElementById("widget-net");if(t){var a=document.querySelector("#widget-container");a&&a.remove();let e="";switch(n){case"paquetes":e=`
<div class="contenedor-widget">
<div class="widget widget-package" id="widget-container">
    <div class="widget-container package-container">
        <div class="origen-destino">
            <div class="origen">
                <div class="input-group">
                    <span class="label-input">ORIGEN</span>
                    <input id="origen" type="text" class="autocomplete-input" placeholder="(mín. 3 letras) Desde dónde viajas" value=""
                        onclick="this.select()">
                    <div id="autocomplete-list-origen" class="autocomplete-list"></div>
                    <select id="origen-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                    <span class="icon"><i class="fas fa-plane-departure"></i></span>
                </div>
            </div>
            <div class="destino">
                <div class="input-group">
                    <span class="label-input">DESTINO</span>
                    <input id="destino" type="text" class="autocomplete-input" placeholder="(mín. 3 letras)Hacia dónde viajas" value=""
                        onclick="this.select()">
                    <div id="autocomplete-list-destino" class="autocomplete-list"></div>
                    <select id="destino-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                    <span class="icon"><i class="fas fa-plane-arrival"></i></span>
                </div>
            </div>
        </div>
        <div class="fechas">
            <div class="input-group">
                <span class="label-input">FECHA</span>
                <input id="fecha-rango" type="text" placeholder="Selecciona un rango de fechas">
                <span class="icon"><i class="fas fa-calendar-alt"></i></span>
            </div>
        </div>
        <div class="habitaciones-pasajeros">
            <div class="habitaciones">
                <div class="input-group">
                    <span class="label-input">HABITACIONES</span>
                    <input id="num-hab" type="number" min="1" value="1" readonly>
                    <span class="icon"><i class="fas fa-bed"></i></span>
                </div>
            </div>
            <div class="pasajeros">
                <div class="input-group">
                    <span class="label-input">PERSONAS</span>
                    <input id="num-per" type="number" min="1" value="1" readonly>
                    <span class="icon"><i class="fas fa-users"></i></span>
                </div>
            </div>
            <div id="modal-error" class="modal" style="display: none;">
                <div class="modal-content">
                    <p>El número máximo de pasajeros permitidos es 7.</p>
                </div>
            </div>
        </div>
        <div id="hab-popup" class="popup">
            <div class="popup-content">
                <div class="popup-header">
                    <label for="popup-num-hab">Número de habitaciones:</label>
                    <input id="popup-num-hab" type="number" min="1" max="20" value="1">
                </div>
                <div id="hab-container"></div>
                <div class="button-accept">
                    <button id="accept-popup">Aceptar</button>
                </div>
            </div>
        </div>

        <div class="boton-buscar">
            <div class="input-group">
                <button id="buscar-btn-paquetes">Buscar</button>
                <span class="icon"><i id="lupa-icon" class="fas fa-search"></i></span>
            </div>
        </div>
        <div class="options-paq">
            
        <div class="checkbox-group">
            <div class="checkbox">
                <input id="checkbox-vequipaje" type="checkbox">
                <label for="checkbox-vequipaje">Solo vuelos con equipaje</label>
            </div>
            <div class="checkbox">
                <input id="checkbox-vdirecto" type="checkbox">
                <label for="checkbox-vdirecto">Solo vuelos directos</label>
            </div>
        </div>
        <div class="descuento-container">
            <a id="mostrar-descuento" href="#" style="cursor: pointer;">Código de descuento
                <i class="fas fa-chevron-down"></i>
            </a>
            <div class="descuento" style="display: none;">
                <div class="codigo-descuento">
                    <div class="input-group" id="input-descuento">
                        <span id="texto-descuento" class="label-input">CÓDIGO DE DESCUENTO</span>
                        <input id="codigo-descuento" type="text" placeholder="Ingresa tu código de descuento">
                        <span class="icon"><i class="fas fa-tag"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    
</div>
</div>
    `,crearPopupPaquetes(),botonBusquedaPaquetes();break;case"vuelos":e=`
<div class="widget" id="widget-container">
        <div class="widget-container vuelos-container">
            <div class="origen-destino">
                <div class="origen">
                    <div class="input-group">
                        <span class="label-input">ORIGEN</span>
                        <input id="origen" type="text" class="autocomplete-input" placeholder="(mín. 3 letras) Desde dónde viajas" value="" onclick="this.select()">
                        <div id="autocomplete-list-origen" class="autocomplete-list"></div>
                        <select id="origen-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                        <span class="icon"><i class="fas fa-plane-departure"></i></span>
                    </div>
                </div>
                <div class="destino">
                    <div class="input-group">
                        <span class="label-input">DESTINO</span>
                        <input id="destino" type="text" class="autocomplete-input" placeholder="(mín. 3 letras)Hacia dónde viajas" value="" onclick="this.select()">
                        <div id="autocomplete-list-destino" class="autocomplete-list"></div>
                        <select id="destino-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                        <span class="icon"><i class="fas fa-plane-arrival"></i></span>
                    </div>
                </div>
            </div>
            <div class="fechas">
            <div class="input-group">
                <span class="label-input">FECHA</span>
                <input id="fecha-rango" type="text" placeholder="Selecciona un rango de fechas">
                <span class="icon"><i class="fas fa-calendar-alt"></i></span>
            </div>
            </div>
            <div class="habitaciones-pasajeros">
                <div class="pasajeros">
                    <div class="input-group">
                        <span class="label-input">PASAJEROS Y CLASE</span>
                        <input id="num-pasajeros" type="number" min="1" value="2">
                        <span class="icon"><i class="fas fa-users"></i></span>
                    </div>
                </div>
            </div>
            <div id="pasajeros-popup" class="popup">
                <div class="popup-content">
                    <span class="close-popup">&times;</span>
                    <div class="popup-header">
                        <label id="title-pasajeros" for="popup-num-pasajeros">Número de Pasajeros</label>
                    </div>
                    <div id="pasajeros-container"></div>
                    <div class="button-accept">
                    <button id="accept-popup">Aceptar</button>
                    </div>
                </div>
            </div>
            <div class="radio-group">
                <div class="radio">
                    <input id="radio-idayregreso" type="radio" name="trip-type" value="idayregreso" checked>
                    <label for="radio-idayregreso">Ida y regreso</label>
                </div>
                <div class="radio">
                    <input id="radio-soloida" type="radio" name="trip-type" value="soloida">
                    <label for="radio-soloida">Solo ida</label>
                </div>
            </div>
            <div class="checkbox-group">
                <div class="checkbox">
                    <input id="checkbox-vequipaje" type="checkbox">
                    <label for="checkbox-vequipaje">Solo vuelos con equipaje</label>
                </div>
                <div class="checkbox">
                    <input id="checkbox-vdirecto" type="checkbox">
                    <label for="checkbox-vdirecto">Solo vuelos directos</label>
                </div>
            </div>
            <div class="boton-buscar">
                <div class="input-group">
                    <button id="buscar-btn-vuelos">Buscar</button>
                    <span class="icon"><i id="lupa-icon" class="fas fa-search"></i></span>
                </div>
            </div>
        </div>
    </div>
    `;break;case"hoteles":case"autos":case"tours":e=`
<div class="widget" id="widget-container">
        <div class="widget-container vuelos-container">
            <div class="origen-destino">
                <div class="origen">
                    <div class="input-group">
                        <span class="label-input">ORIGEN</span>
                        <input id="origen" type="text" class="autocomplete-input" placeholder="(mín. 3 letras) Desde dónde viajas" value="">
                        <div id="autocomplete-list-origen" class="autocomplete-list"></div>
                        <select id="origen-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                        <span class="icon"><i class="fas fa-plane-departure"></i></span>
                    </div>
                </div>
                <div class="destino">
                    <div class="input-group">
                        <span class="label-input">DESTINO</span>
                        <input id="destino" type="text" class="autocomplete-input" placeholder="(mín. 3 letras)Hacia dónde viajas" value="">
                        <div id="autocomplete-list-destino" class="autocomplete-list"></div>
                        <select id="destino-id" style="display: none;"></select> <!-- Select oculto para guardar el ID -->
                        <span class="icon"><i class="fas fa-plane-arrival"></i></span>
                    </div>
                </div>
            </div>
            <div class="fechas">
            <div class="input-group">
                <span class="label-input">FECHA</span>
                <input id="fecha-rango" type="text" placeholder="Selecciona un rango de fechas">
                <span class="icon"><i class="fas fa-calendar-alt"></i></span>
            </div>
            </div>
            <div class="habitaciones-pasajeros">
                <div class="pasajeros">
                    <div class="input-group">
                        <span class="label-input">PASAJEROS Y CLASE</span>
                        <input id="num-pasajeros" type="number" min="1" value="2">
                        <span class="icon"><i class="fas fa-users"></i></span>
                    </div>
                </div>
            </div>
            <div id="pasajeros-popup" class="popup">
                <div class="popup-content">
                    <span class="close-popup">&times;</span>
                    <div class="popup-header">
                        <label id="title-pasajeros" for="popup-num-pasajeros">Número de Pasajeros</label>
                    </div>
                    <div id="pasajeros-container"></div>
                    <div class="button-accept">
                    <button id="accept-popup">Aceptar</button>
                    </div>
                </div>
            </div>
            <div class="radio-group">
                <div class="radio">
                    <input id="radio-idayregreso" type="radio" name="trip-type" value="idayregreso" checked>
                    <label for="radio-idayregreso">Ida y regreso</label>
                </div>
                <div class="radio">
                    <input id="radio-soloida" type="radio" name="trip-type" value="soloida">
                    <label for="radio-soloida">Solo ida</label>
                </div>
            </div>
            <div class="checkbox-group">
                <div class="checkbox">
                    <input id="checkbox-vequipaje" type="checkbox">
                    <label for="checkbox-vequipaje">Solo vuelos con equipaje</label>
                </div>
                <div class="checkbox">
                    <input id="checkbox-vdirecto" type="checkbox">
                    <label for="checkbox-vdirecto">Solo vuelos directos</label>
                </div>
            </div>
            <div class="boton-buscar">
                <div class="input-group">
                    <button id="buscar-btn">Buscar</button>
                    <span class="icon"><i id="lupa-icon" class="fas fa-search"></i></span>
                </div>
            </div>
        </div>
    </div>
    `;break;default:e="<p>Widget no disponible</p>"}t.insertAdjacentHTML("beforeend",e),inicializarFlatpickr(),cargarAutocompletes(),ajustarWidget(),"paquetes"===n?(crearPopupPaquetes(),botonBusquedaPaquetes()):"vuelos"===n&&(crearPopupVuelos(),botonBusquedaVuelos()),document.addEventListener("DOMContentLoaded",function(){window.addEventListener("resize",function(){inicializarFlatpickr()})})}})}),0<e.length&&c[0].click();var n,a,o,t=i.getAttribute("destination");t&&(n=t,e=document.querySelector("#destino"),t=document.querySelector("#destino-id"),e&&t&&"undefined"!=typeof external_file_AirportsCities?(o=external_file_AirportsCities.find(e=>e.includes(`(${n})`)))?(a=1<(a=o.split(" | ")).length?a[1]:o,e.value=a,e.disabled=!0,t.innerHTML="",(o=document.createElement("option")).value=n,o.selected=!0,t.appendChild(o)):console.warn("No se encontró un destino con el ID: "+n):console.error("No se pudo configurar el destino. Verifica los elementos y datos."))}}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#mostrar-descuento");const t=document.querySelector(".descuento");e&&t&&e.addEventListener("click",function(e){e.preventDefault(),"none"===t.style.display||""===t.style.display?t.style.display="block":t.style.display="none"})}),window.addEventListener("DOMContentLoaded",cargarEstilosSegunContenedor),window.addEventListener("resize",cargarEstilosSegunContenedor),window.addEventListener("DOMContentLoaded",cargarEstilosSegunContenedor),window.addEventListener("resize",cargarEstilosSegunContenedor);let airports=[];function autocompleteSearch(e,t,n){const o=document.querySelector(e),s=document.querySelector(t);const c=document.querySelector("#origen"===e?"#origen-id":"#destino-id");function a(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}o.addEventListener("input",function(){const t=a(o.value.trim());s.innerHTML="",!(t.length<3)&&t?n.filter(e=>!e.toLowerCase().includes("punto de partida")).filter(e=>a(e).includes(t)).forEach(n=>{var e=n.split(" | ");const a=1<e.length?e[1]:n;var e=!n.includes("-")?"fas fa-map-marker-alt":"fas fa-plane",t=document.createElement("i"),e=(t.className=e,t.style.padding="5px",document.createElement("div")),i=(e.className="autocomplete-item",(e.textContent=a).match(/\(([^)]+)\)$/));i&&1<(i=i[1].split("-")).length&&(e.textContent=`${a.replace(/\(.*?\)/,"").trim()} (${i[1].trim()})`),e.appendChild(t),s.appendChild(e),e.addEventListener("click",function(){o.value=a,s.innerHTML="";var e=n.match(/\(([^)]+)\)$/);let t=e?e[1]:"";t.includes("-")&&(t=t.split("-")[1].trim()),c&&(c.innerHTML="",(e=document.createElement("option")).value=t,e.selected=!0,c.appendChild(e)),console.log("id",t)})}):c&&(c.innerHTML="")}),document.addEventListener("click",function(e){s.contains(e.target)||e.target===o||(s.innerHTML="")})}function inicializarFlatpickr(){document.querySelector("#fecha-rango")&&"undefined"!=typeof flatpickr?flatpickr("#fecha-rango",{mode:"range",dateFormat:"Y-m-d",showMonths:window.innerWidth<=768?1:2,minDate:"today",locale:{firstDayOfWeek:1,weekdays:{shorthand:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Оct","Nov","Dic"],longhand:["Enero","Febreo","Мarzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}},onClose:function(e){var t;2===e.length&&(t=e[0].toISOString().split("T")[0],e=e[1].toISOString().split("T")[0],console.log("Fecha de inicio:",t),console.log("Fecha de fin:",e))}}):console.error("El input #fecha-rango no existe o Flatpickr no está cargado.")}function cargarAutocompletes(){"undefined"!=typeof external_file_AirportsCities?(autocompleteSearch("#origen","#autocomplete-list-origen",external_file_AirportsCities),autocompleteSearch("#destino","#autocomplete-list-destino",external_file_AirportsCities)):console.error("external_file_AirportsCities no está definido.")}function crearPopupPaquetes(){if(document.getElementById("widget-container")){const o=document.querySelector("#num-hab");var e=document.querySelector("#popup-num-hab");const s=document.querySelector("#hab-popup"),p=document.querySelector("#hab-container");if(o&&e&&s&&p){o.parentElement.style.position="relative",o.addEventListener("click",function(){s.style.display="flex",s.classList.toggle("active")}),document.querySelector("#accept-popup")?.addEventListener("click",function(){let n=0,a=0;document.querySelectorAll("#hab-container > div").forEach(e=>{var t=parseInt(e.querySelector(".input-adultos input")?.value)||0,e=parseInt(e.querySelector(".input-ninos input")?.value)||0;n+=t,a+=e}),document.querySelector("#num-per").value=n+a,s.classList.remove("active"),s.style.display="none"});document.querySelector("#num-per")?.addEventListener("click",function(){s.style.display="flex"}),i(1),o.addEventListener("input",function(){i(parseInt(o.value)||1)});var t=document.createElement("div"),n=(t.className="numeric-input",document.createElement("button"));n.className="decrement",n.textContent="-";const c=document.createElement("input");c.type="number",c.id="numeric-value",c.value="1",c.min="1",c.max="4",c.readOnly=!0;var a=document.createElement("button");function i(t){p.innerHTML="";for(let e=1;e<=t;e++){var n=document.createElement("div"),a=(n.innerHTML=`
<div class="habitacion-header">
    <h4>Habitación ${e}</h4>
    <span class="icon"><i class="fas fa-bed"></i></span>
</div>
<div class="habitacion">
    <div class="adultos">
        <div class="label-adultos">
            <label for="num-adultos">Adultos:</label>
        </div>
        <div class="input-adultos"></div>
    </div>
    <div class="ninos">
        <div class="label-ninos">
            <label for="num-ninos">Niños:</label>
        </div>
        <div class="input-ninos"></div>
    </div>
    <div id="edades-ninos"></div>
</div>
`,p.appendChild(n),n.querySelector(".input-adultos")),i=(a.innerHTML="",n.querySelector(".input-ninos")),o=(i.innerHTML="",document.createElement("div")),s=(o.className="numeric-input",document.createElement("button"));s.className="decrement",s.textContent="-";const r=document.createElement("input");r.type="number",r.id="numeric-value-adultos",r.value="1",r.min="1",r.max="7",r.readOnly=!0;var c=document.createElement("button"),a=(c.className="increment",c.textContent="+",o.appendChild(s),o.appendChild(r),o.appendChild(c),a.appendChild(o),document.querySelector("#numeric-value-adultos").addEventListener("input",function(){var e=parseInt(this.value)||1;7<e&&(this.value=7),e<parseInt(this.min)&&(this.value=this.min)}),document.createElement("div")),o=(a.className="numeric-input",document.createElement("button"));o.className="decrement",o.textContent="-";const d=document.createElement("input");d.type="number",d.id="numeric-value-ninos",d.value="0",d.min="0",d.max="4",d.readOnly=!0,d.addEventListener("input",function(){var e=parseInt(this.value)||0;4<e&&(this.value=4),e<parseInt(this.min)&&(this.value=this.min)});var l=document.createElement("button");l.className="increment",l.textContent="+",a.appendChild(o),a.appendChild(d),a.appendChild(l),i.appendChild(a),document.querySelector("#numeric-value-ninos").addEventListener("input",function(){var e=parseInt(this.value)||1;4<e&&(this.value=4),e<parseInt(this.min)&&(this.value=this.min)});const u=n.querySelector("#edades-ninos");d.addEventListener("input",function(){var t=parseInt(d.value)||0;u.innerHTML="";for(let e=1;e<=t;e++){var n=document.createElement("label"),a=(n.textContent=`Edad del niño ${e}:`,document.createElement("select"));a.className="edad-nino",a.name="edad-nino-"+e;for(let e=1;e<=12;e++){var i=document.createElement("option");i.value=e,i.textContent=e,a.appendChild(i)}u.appendChild(n),u.appendChild(a)}}),s.addEventListener("click",function(){var e=parseInt(r.value)||1;e>parseInt(r.min)&&(r.value=e-1)}),c.addEventListener("click",function(){var e=parseInt(r.value)||1;e<parseInt(r.max)&&(r.value=e+1)}),o.addEventListener("click",function(){var e=parseInt(d.value)||0;e>parseInt(d.min)&&(d.value=e-1,d.dispatchEvent(new Event("input")))}),l.addEventListener("click",function(){var e=parseInt(d.value)||0;e<parseInt(d.max)&&(d.value=e+1,d.dispatchEvent(new Event("input")))})}}a.className="increment",a.textContent="+",t.appendChild(n),t.appendChild(c),t.appendChild(a),e.replaceWith(t),document.querySelector("#numeric-value").addEventListener("input",function(){var e=parseInt(this.value)||1;4<e&&(this.value=4),e<=parseInt(this.min)&&(this.value=this.min)}),n.addEventListener("click",function(){var e=parseInt(c.value)||1;e>parseInt(c.min)&&(c.value=e-1,document.querySelector("#num-hab").value=c.value,i(c.value))}),a.addEventListener("click",function(){var e=parseInt(c.value)||1;e<parseInt(c.max)&&(c.value=e+1,document.querySelector("#num-hab").value=c.value,i(c.value))}),c.addEventListener("input",function(){var e=parseInt(c.value)||1;e<parseInt(c.min)?c.value=c.min:e>parseInt(c.max)&&(c.value=c.max),document.querySelector("#num-hab").value=c.value,i(c.value)})}}}function generateURLPaquetes(){var e=document.getElementById("widget-container"),t=document.getElementById("widget-net");if(e){var e=t.getAttribute("culture")||"es-CO",n=t.getAttribute("host")||"https://reservas.aviajarcolombia.com/",s=t.getAttribute("productType")||"Package",c=t.getAttribute("userService")||"aviajar",t=t.getAttribute("branchCode")||"003",l=document.querySelector("#origen-id")?.value||"",r=document.querySelector("#destino-id")?.value||"",d=document.querySelector("#fecha-rango")?.value.split(" al ")||[],u=d[0]||"",d=d[1]||u,p=document.querySelector("#num-hab")?.value||"1",v=document.querySelector("#checkbox-vequipaje")?.checked?"true":"false",m=document.querySelector("#checkbox-vdirecto")?.checked?"true":"false",f=document.querySelector("#codigo-descuento")?.value||"";let a=[],i=0,o=0;document.querySelectorAll("#hab-container > div").forEach(e=>{var t=parseInt(e.querySelector("#numeric-value-adultos")?.value||"1"),n=parseInt(e.querySelector("#numeric-value-ninos")?.value||"0"),e=Array.from(e.querySelectorAll(".edad-nino")).map(e=>e.value||"0").join("-");i+=t,o+=n,0<n?a.push(t+"-"+e):a.push(""+t)});var y=a.join("!");return l&&r&&u&&d?(n=""+n+e+`/${s}/${l}/${r}/${u}/${d}/${i}/${p}/0/${u}/${d}/${y}/${v}/${m}/NA/Economy/NA/${c}-show-${t}---------`+f,console.log("Generated URL:",n),n):(console.error("Faltan parámetros obligatorios para generar la URL."),null)}}function botonBusquedaPaquetes(){document.getElementById("widget-container")&&(document.querySelector("#buscar-btn-paquetes").addEventListener("click",function(e){e.preventDefault();let t=!0;var e=document.querySelector("#origen"),n=document.querySelector("#destino"),a=document.querySelector("#fecha-rango"),i=document.querySelector("#origen-id"),o=document.querySelector("#destino-id");if(7<(parseInt(document.querySelector("#num-per")?.value)||0)){const l=document.querySelector("#modal-error");l.style.display="block",setTimeout(()=>{document.addEventListener("click",function e(t){document.querySelector(".modal-content").contains(t.target)||(l.style.display="none",document.removeEventListener("click",e))})},100)}function s(e){e.classList.add("input-error")}function c(e){e.classList.remove("input-error")}i&&i.value?c(e):(s(e),t=!1),o&&o.value?c(n):(s(n),t=!1),a.value?c(a):(s(a),t=!1),t&&t&&(i=generateURLPaquetes(),window.location.href=i)}),document.querySelector("#origen").addEventListener("input",function(){this.classList.remove("input-error")}),document.querySelector("#destino").addEventListener("input",function(){this.classList.remove("input-error")}),document.querySelector("#fecha-rango").addEventListener("change",function(){this.classList.remove("input-error")}),document.querySelector("#fecha-rango").addEventListener("change",function(){document.querySelector("#fecha-rango").value.includes("to")&&(document.querySelector("#fecha-rango").value=document.querySelector("#fecha-rango").value.replace("to","al"))}))}function crearPopupVuelos(){if(document.getElementById("widget-container")){const i=document.querySelector("#num-pasajeros"),o=document.querySelector("#pasajeros-popup");var e,t,n=document.querySelector(".close-popup"),a=document.querySelector("#pasajeros-container");i&&o&&n&&a&&(i.addEventListener("click",function(){o.style.display="flex"}),n.addEventListener("click",function(){o.style.display="none"}),o.addEventListener("click",function(e){e.target===o&&(o.style.display="none")}),document.querySelector("#accept-popup")?.addEventListener("click",function(){var e=parseInt(document.querySelector("#numeric-value-adultos")?.value)||0,t=parseInt(document.querySelector("#numeric-value-ninos")?.value)||0,n=parseInt(document.querySelector("#numeric-value-infantes")?.value)||0;i.value=e+t+n,o.style.display="none"}),(n=document.createElement("div")).className="numeric-input-group",n.innerHTML=`
<label>Adultos:</label>
<span class="info-text">12 o más años</span>
<div class="numeric-input">
<button class="decrement" id="decrement-adultos">-</button>
<input type="number" id="numeric-value-adultos" value="1" min="1" max="10">
<button class="increment" id="increment-adultos">+</button>
</div>
`,(e=document.createElement("div")).className="numeric-input-group",e.innerHTML=`
<label>Niños:</label>
<span class="info-text">2 a 11 años</span>
<div class="numeric-input">
<button class="decrement" id="decrement-ninos">-</button>
<input type="number" id="numeric-value-ninos" value="0" min="0" max="5">
<button class="increment" id="increment-ninos">+</button>
</div>
`,(t=document.createElement("div")).className="numeric-input-group",t.innerHTML=`
<label>Infantes:</label>
<span class="info-text">0 a 23 meses</span>
<div class="numeric-input">
<button class="decrement" id="decrement-infantes">-</button>
<input type="number" id="numeric-value-infantes" value="0" min="0" max="2">
<button class="increment" id="increment-infantes">+</button>
</div>
`,a.innerHTML="",a.appendChild(n),a.appendChild(e),a.appendChild(t),document.querySelector("#decrement-adultos").addEventListener("click",function(){var e=document.querySelector("#numeric-value-adultos"),t=parseInt(e.value)||1;t>parseInt(e.min)&&(e.value=t-1)}),document.querySelector("#increment-adultos").addEventListener("click",function(){var e=document.querySelector("#numeric-value-adultos"),t=parseInt(e.value)||1;t<parseInt(e.max)&&(e.value=t+1)}),document.querySelector("#decrement-ninos").addEventListener("click",function(){var e=document.querySelector("#numeric-value-ninos"),t=parseInt(e.value)||0;t>parseInt(e.min)&&(e.value=t-1)}),document.querySelector("#increment-ninos").addEventListener("click",function(){var e=document.querySelector("#numeric-value-ninos"),t=parseInt(e.value)||0;t<parseInt(e.max)&&(e.value=t+1)}),document.querySelector("#decrement-infantes").addEventListener("click",function(){var e=document.querySelector("#numeric-value-infantes"),t=parseInt(e.value)||0;t>parseInt(e.min)&&(e.value=t-1)}),document.querySelector("#increment-infantes").addEventListener("click",function(){var e=document.querySelector("#numeric-value-infantes"),t=parseInt(e.value)||0;t<parseInt(e.max)&&(e.value=t+1)}))}}function generateURLVuelos(){var e,t,n,a,i,o,s,c,l,r,d,u,p,v,m;if(document.getElementById("widget-container"))return e=widgetAviajar.getAttribute("culture")||"es-CO",m=widgetAviajar.getAttribute("host")||"https://reservas.aviajarcolombia.com/",t=widgetAviajar.getAttribute("productType")||"Air",n=widgetAviajar.getAttribute("userService")||"aviajar",a=widgetAviajar.getAttribute("branchCode")||"003",i=document.querySelector("#radio-soloida")?.checked?"OW":"RT",o=document.querySelector("#origen-id")?.value||"",s=document.querySelector("#destino-id")?.value||"",c=(l=document.querySelector("#fecha-rango")?.value.split(" al ")||[])[0]||"",l="RT"==i&&l[1]||"",r=parseInt(document.querySelector("#numeric-value-adultos")?.value)||1,d=parseInt(document.querySelector("#numeric-value-ninos")?.value)||0,u=parseInt(document.querySelector("#numeric-value-infantes")?.value)||0,p=document.querySelector("#checkbox-vequipaje")?.checked?"true":"false",v=document.querySelector("#checkbox-vdirecto")?.checked?"true":"false",o&&s&&c&&("RT"!=i||l)?(m=""+m+e+`/${t}/${i}/${o}/${s}/${c}/${l}/${r}/${d}/${u}/NA/NA/NA/NA/NA/${p}/${v}/${n}-show-${a}---------#air`,console.log("Generated URL:",m),m):(console.error("Faltan parámetros obligatorios para generar la URL."),null)}function botonBusquedaVuelos(){document.getElementById("widget-container")&&(document.querySelector("#buscar-btn-vuelos").addEventListener("click",function(e){e.preventDefault();let t=!0;var e=document.querySelector("#origen"),n=document.querySelector("#destino"),a=document.querySelector("#fecha-rango"),i=document.querySelector("#origen-id"),o=document.querySelector("#destino-id");function s(e){e.classList.add("input-error")}function c(e){e.classList.remove("input-error")}i&&i.value?c(e):(s(e),t=!1),o&&o.value?c(n):(s(n),t=!1),a.value?c(a):(s(a),t=!1),t&&(i=generateURLVuelos(),window.location.href=i,document.querySelectorAll("#origen-id, #destino-id").forEach(e=>{e.querySelector("option[selected]")||(e.innerHTML="")}),e.value="",n.value="",a.value="")}),document.querySelector("#origen").addEventListener("input",function(){this.classList.remove("input-error")}),document.querySelector("#destino").addEventListener("input",function(){this.classList.remove("input-error")}),document.querySelector("#fecha-rango").addEventListener("change",function(){this.classList.remove("input-error")}))}function ajustarWidget(){var e,t,n=document.querySelector(".contenedor-widget");n&&(e=1024<=window.innerWidth,t=n.offsetWidth<1e3,n.classList.toggle("widget-ajustado",e&&t))}